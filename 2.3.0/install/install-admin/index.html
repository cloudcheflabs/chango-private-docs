
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cloudcheflabs.github.io/chango-private-docs/2.3.0/install/install-admin/">
      
      
        <link rel="prev" href="../../intro/intro/">
      
      
        <link rel="next" href="../install-component/">
      
      <link rel="icon" href="../../images/chango-logo.png">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>Install Chango Admin - Chango Private</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    

<!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=AW-419279658"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-419279658'); </script>

  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#install-chango-admin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Chango Private" class="md-header__button md-logo" aria-label="Chango Private" data-md-component="logo">
      
  <img src="../../images/chango-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chango Private
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install Chango Admin
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../intro/intro/" class="md-tabs__link">
        What is Chango Private?
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../features/rbac/" class="md-tabs__link">
        Features
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../user-guide/cred/" class="md-tabs__link">
        User Guide
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../components/components/" class="md-tabs__link">
        Components
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Chango Private" class="md-nav__button md-logo" aria-label="Chango Private" data-md-component="logo">
      
  <img src="../../images/chango-logo.png" alt="logo">

    </a>
    Chango Private
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          What is Chango Private?
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          What is Chango Private?
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/intro/" class="md-nav__link">
        What is Chango Private?
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Install Chango Admin
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Install Chango Admin
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
    <nav class="md-nav" aria-label="Prerequisites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-os-and-python" class="md-nav__link">
    Supported OS and Python
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prepare-chango-nodes" class="md-nav__link">
    Prepare Chango Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#open-ports" class="md-nav__link">
    Open Ports
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#password-less-ssh-connection" class="md-nav__link">
    Password-less SSH Connection
  </a>
  
    <nav class="md-nav" aria-label="Password-less SSH Connection">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-host-names" class="md-nav__link">
    Configure Host Names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-sudo-user" class="md-nav__link">
    Create sudo User
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-ssh-keys" class="md-nav__link">
    Create SSH Keys
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attache-raw-disks-to-chango-component-nodes" class="md-nav__link">
    Attache Raw Disks to Chango Component Nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-selinux-to-permissive" class="md-nav__link">
    Set Selinux to Permissive
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-yum-repositories" class="md-nav__link">
    Add Yum Repositories
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-yum-repository" class="md-nav__link">
    Local Yum Repository
  </a>
  
    <nav class="md-nav" aria-label="Local Yum Repository">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#on-the-node-of-local-yum-repository" class="md-nav__link">
    On the Node of Local Yum Repository
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-the-nodes-of-chango-admin-node-and-chango-component-nodes" class="md-nav__link">
    On the Nodes of Chango Admin Node and Chango Component Nodes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#download-chango-private-distribution" class="md-nav__link">
    Download Chango Private Distribution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-chango-admin_1" class="md-nav__link">
    Install Chango Admin
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#after-installing-chango-admin" class="md-nav__link">
    After installing Chango Admin
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install-component/" class="md-nav__link">
        Install Chango Components
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../run-first-ctas/" class="md-nav__link">
        Run First Trino Query
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/rbac/" class="md-nav__link">
        Storage Security
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/ingestion/" class="md-nav__link">
        Data Ingestion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/realtime/" class="md-nav__link">
        Realtime Analytics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/trino-gw/" class="md-nav__link">
        Trino Gateway
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/transform/" class="md-nav__link">
        Data Transformation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          User Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          User Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/cred/" class="md-nav__link">
        Get Chango Credential
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/s3-cred/" class="md-nav__link">
        Get S3 Credential
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/streaming/" class="md-nav__link">
        Send Streaming Events
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/upload/" class="md-nav__link">
        Upload Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/upload-excel/" class="md-nav__link">
        Upload Excel
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/connect-trino-gw/" class="md-nav__link">
        Connect to Chango Trino Gateway with Trino Clients
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/rest-in-spark/" class="md-nav__link">
        Create Iceberg REST Catalog in Spark
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/dbt/" class="md-nav__link">
        Run dbt Model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/azkaban-cli/" class="md-nav__link">
        Create Azkaban Project using CLI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/spark-azkaban/" class="md-nav__link">
        Run Spark Jobs with Azkaban
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/azkaban-change-pw/" class="md-nav__link">
        Change Login Password in Azkaban
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/kafka-topic/" class="md-nav__link">
        Create Kafka Topic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/schema-reg/" class="md-nav__link">
        Configure Schema Registry URL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/chango-log/" class="md-nav__link">
        Reading Log Files Using Chango Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/chango-cdc/" class="md-nav__link">
        Change Data Capture Using Chango CDC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/query-exec/" class="md-nav__link">
        Data Transformation Using Chango Query Exec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/standalone-query-exec/" class="md-nav__link">
        Data Transformation Using Standalone Chango Query Exec
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/tx-streaming/" class="md-nav__link">
        Transactional Streaming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/maintain-iceberg/" class="md-nav__link">
        Maintain Iceberg Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../user-guide/livy/" class="md-nav__link">
        Run Spark Applications using Livy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Components
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Components
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../components/components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="install-chango-admin">Install Chango Admin</h1>
<p>Chango Private is Data Lakehouse Platform which can be installed in both connected and disconnected environment.</p>
<p>Chango Private consists of <code>Chango Admin</code> and <code>Chango Components</code>. All the <code>Chango Components</code> will be installed by <code>Chango Admin</code>, 
so you need to install <code>Chango Admin</code> before installing <code>Chango Components</code>.</p>
<h2 id="prerequisites">Prerequisites</h2>
<p>There are several things to prepare before proceeding to install Chango Private.</p>
<h3 id="supported-os-and-python">Supported OS and Python</h3>
<p>Supported OS and Python Version are:</p>
<ul>
<li><code>CentOS 7.9</code></li>
<li><code>Python 3.6.8</code></li>
</ul>
<h3 id="prepare-chango-nodes">Prepare Chango Nodes</h3>
<p>In order to install Chango Private, we need nodes. Let's call it as <code>Chango Nodes</code>.
<code>Chango Nodes</code> consist of <code>Chango Admin Node</code> on which Chango Admin will be installed and <code>Chango Component Nodes</code> on which 
Chango Components will be installed.</p>
<p><img width="800" src="../../images/admin/ssh-node-access.png" /></p>
<p>First, you will install <code>Chango Admin</code>, and then all the components will be installed by <code>Chango Admin</code> through ansible playbook using SSH.
So, you need to prepare <code>at least 4</code> nodes to install Chango Private.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> 1 node for <code>Chango Admin Node</code> and <code>at least 3</code> nodes for <code>Chango Comonent Nodes</code>.
That is, you need to have <code>at least 4</code>nodes to install Chango Private.</p>
</blockquote>
<p>With respect to hardware requirement, 2 cores and 4GB memory is good for <code>Chango Admin Node</code>, but for <code>Chango Component Nodes</code>, 
there are many variations to determine how much capacity you need for <code>Chango Component Nodes</code>. 
The following components provided by Chango Private are the components which can affect the determination of hardware capacity.</p>
<ul>
<li><a href="https://trino.io/docs/current/installation/deployment.html">Trino</a></li>
<li><a href="https://spark.apache.org/docs/latest/hardware-provisioning.html">Apache Spark</a></li>
<li><a href="https://docs.cloudera.com/cdp-private-cloud-upgrade/latest/release-guide/topics/cdpdc-ozone.html">Apache Ozone</a></li>
<li><a href="https://docs.confluent.io/platform/current/installation/system-requirements.html">Apache Kafka</a></li>
</ul>
<h3 id="open-ports">Open Ports</h3>
<p>You need to open ports in your subnet of <code>Chango Nodes</code>. See the details of <a href="../../components/components/#component-ports">Chango Private Ports</a>.</p>
<h3 id="password-less-ssh-connection">Password-less SSH Connection</h3>
<p>From the node of <code>Chango Admin Node</code>, <code>sudo</code> user must access to <code>Chango Component Nodes</code> with password-less SSH connection.</p>
<p>The following needs to be configured.</p>
<ul>
<li><code>sudo</code> user with the same name needs to be created on all the nodes of <code>Chango Admin Node</code> and <code>Chango Component Nodes</code>.</li>
<li>configure password-less SSH connection with the created <code>sudo</code> user from <code>Chango Admin Node</code> to <code>Chango Component Nodes</code>.</li>
<li>configure password-less SSH connection with the created <code>sudo</code> user from <code>Chango Admin Node</code> to the self host of <code>Chango Admin Node</code>.</li>
</ul>
<h4 id="configure-host-names">Configure Host Names</h4>
<p>You need to configure host name on all the nodes of <code>Chango Admin Node</code> and <code>Chango Component Nodes</code>.</p>
<p>For example, the following DNS entry is configured in <code>/etc/hosts</code> on <code>Chango Admin Node</code>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>10.0.0.100  chango-admin.chango.private chango-admin
</code></pre></div>
And set host name with FQDN.
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>sudo hostnamectl set-hostname chango-admin.chango.private
</code></pre></div></p>
<h4 id="create-sudo-user">Create <code>sudo</code> User</h4>
<p>For example, we will create <code>sudo</code> user with the name of <code>chango</code>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>sudo su -;
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>useradd -m chango;
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>passwd chango;
</code></pre></div></p>
<p>In order to add to sudo user, 
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>sudo visudo;
</code></pre></div></p>
<p>And add the following.
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>chango   ALL=(ALL) NOPASSWD: ALL
</code></pre></div></p>
<blockquote>
<p><strong><em>NOTE:</em></strong> You need to create such <code>sudo</code> user on all the nodes of <code>Chango Admin Node</code> and <code>Chango Component Nodes</code>.</p>
</blockquote>
<h4 id="create-ssh-keys">Create SSH Keys</h4>
<p>You need to generate SSH keys on <code>Chango Admin Node</code> logged in as the <code>sudo</code> user created before.
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>sudo su - chango
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>ssh-keygen -t rsa;
</code></pre></div>
<p>Configure SSH with no key checking. Open SSH configuration file.
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>vi ~/.ssh/config
</code></pre></div>
Add the following.
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>StrictHostKeyChecking no
</code></pre></div></p>
<p>Add permission to configuration.
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>chmod 600 ~/.ssh/config
</code></pre></div></p>
<p>Copy the created public key on <code>Chango Admin Node</code> to all the nodes of <code>Chango Component Nodes</code> and the self host of <code>Chango Admin Node</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>cat ~/.ssh/id_rsa.pub
</code></pre></div>
<p>Open <code>authorized_keys</code> on the nodes of <code>Chango Component Nodes</code> and the self host of <code>Chango Admin Node</code>, and paste the public key to it.
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>vi ~/.ssh/authorized_keys
</code></pre></div></p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Take a note that you also need to add public key to the self of <code>Chango Admin Node</code>.</p>
</blockquote>
<p>And add permission.
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>chmod 600 ~/.ssh/authorized_keys
</code></pre></div></p>
<p>And, test if password-less ssh access works from <code>Chango Admin Node</code> to the nodes of <code>Chango Component Nodes</code> and the self host of <code>Chango Admin Node</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a># access to nodes of chango component nodes.
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>ssh chango-comp-1.chango.private;
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>ssh chango-comp-2.chango.private;
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>ssh chango-comp-3.chango.private;
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>ssh chango-comp-4.chango.private;
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a># access to self host of chango admin node.
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>ssh chango-admin.chango.private
</code></pre></div>
<h3 id="attache-raw-disks-to-chango-component-nodes">Attache Raw Disks to <code>Chango Component Nodes</code></h3>
<p>As depicted in the above picture, several Raw Disks must be attached to <code>Chango Component Nodes</code>. But you don’t have to mount any disks to <code>Chango Admin Node</code>.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Raw disks attached to <code>Chango Component Nodes</code> <strong>MUST NOT</strong> be mounted!
Chango will mount attached disks as logical volume by installing Chango Components later.</p>
</blockquote>
<h3 id="set-selinux-to-permissive">Set Selinux to Permissive</h3>
<p>You need to set selinux to <code>permissive</code> on all <code>Chango Nodes</code> with the following command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>sudo setenforce 0
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>sudo sed -i &#39;s/SELINUX=enforcing/SELINUX=permissive/g&#39; /etc/selinux/config
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>sudo sed -i &#39;s/SELINUX=disabled/SELINUX=permissive/g&#39; /etc/selinux/config
</code></pre></div>
<h3 id="add-yum-repositories">Add Yum Repositories</h3>
<p>For online environment, add the following yum repository on all the <code>Chango Nodes</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>sudo yum install epel-release -y
</code></pre></div>
<blockquote>
<p><strong><em>NOTE:</em></strong> For offline and disconnected environment, you don't have to do it.</p>
</blockquote>
<h3 id="local-yum-repository">Local Yum Repository</h3>
<p>If you want to install Chango Private in disconnected environment, you need to install local yum repository which all the <code>Chango Nodes</code> will look up.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> If you want to install Chango Private in connected environment, skip this instruction.</p>
</blockquote>
<h4 id="on-the-node-of-local-yum-repository">On the Node of Local Yum Repository</h4>
<p>On the host of local yum repository, you need to follow the below instructions.</p>
<p>Install NGINX proxy.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>curl -L -O https://github.com/cloudcheflabs/chango-libs/releases/download/chango-private-deps/nginx-1.14.0-1.el7_4.ngx.x86_64.rpm
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo rpm -Uvh nginx-1.14.0-1.el7_4.ngx.x86_64.rpm
</code></pre></div>
<p>Open port of <code>80</code>.
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>sudo firewall-cmd --zone=public --add-port=80/tcp --permanent;
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>sudo firewall-cmd --reload;
</code></pre></div></p>
<p>Install yum utils.
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>sudo yum install createrepo  yum-utils -y;
</code></pre></div></p>
<p>Create directories of local yum repository.
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a># local repo directory.
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>export LOCAL_REPO_BASE=/data/var/www/html
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>export LOCAL_REPO_DIR=${LOCAL_REPO_BASE}/repos;
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a># create repo directories.
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>sudo mkdir -p ${LOCAL_REPO_DIR}/{base,epel,extras,updates};
</code></pre></div></p>
<p>Synchronize Yum Repos to Local Repo.
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a># synchronize repositories to local.
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>sudo reposync -g -l -d -m --repoid=base --newest-only --download-metadata --download_path=${LOCAL_REPO_DIR}/
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>sudo reposync -g -l -d -m --repoid=epel --newest-only --download-metadata --download_path=${LOCAL_REPO_DIR}/
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>sudo reposync -g -l -d -m --repoid=extras --newest-only --download-metadata --download_path=${LOCAL_REPO_DIR}/
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>sudo reposync -g -l -d -m --repoid=updates --newest-only --download-metadata --download_path=${LOCAL_REPO_DIR}/
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a># create new repo for local.
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>sudo createrepo -g comps.xml ${LOCAL_REPO_DIR}/base/  
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>sudo createrepo -g comps.xml ${LOCAL_REPO_DIR}/epel/    
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>sudo createrepo -g comps.xml ${LOCAL_REPO_DIR}/extras/  
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>sudo createrepo ${LOCAL_REPO_DIR}/extras/
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>sudo createrepo -g comps.xml ${LOCAL_REPO_DIR}/updates/  
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>sudo createrepo ${LOCAL_REPO_DIR}/updates/
</code></pre></div></p>
<p>Create NGINX configuration.
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>sudo vi /etc/nginx/conf.d/repos.conf 
</code></pre></div></p>
<p>, and add the following configuration.
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>server {
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a>        listen   80;
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>        server_name  chango-private-yum-local-repo.chango.private;
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>        root   /data/var/www/html/repos;
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>        location / {
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>                index  index.php index.html index.htm;
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>                autoindex on;
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>        }
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>}
</code></pre></div></p>
<p>Remove NGINX default configuration.
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>sudo rm -rf /etc/nginx/conf.d/default.conf;
</code></pre></div></p>
<p>Start NGINX.
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>sudo systemctl start nginx;
</code></pre></div></p>
<p>Now, you can see the list of RPMs.
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>http://[local-yum-repo-ip]/
</code></pre></div></p>
<p>If internet is available to the host of local yum repository, create crontab to update local yum repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>sudo vi /etc/cron.daily/update-localrepos
</code></pre></div>
<p>Add the following job.
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a>#!/bin/bash
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>##specify all local repositories in a single variable
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>LOCAL_REPOS=”base epel extras updates”
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>##a loop to update repos one at a time 
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>for REPO in ${LOCAL_REPOS}; do
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a>reposync -g -l -d -m --repoid=$REPO --newest-only --download-metadata --download_path=/data/var/www/html/repos/
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a>createrepo -g comps.xml /data/var/www/html/repos/$REPO/  
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>createrepo /data/var/www/html/repos/$REPO/
</code></pre></div></p>
<p>, and add permission.
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>sudo chmod 755 /etc/cron.daily/update-localrepos
</code></pre></div></p>
<h4 id="on-the-nodes-of-chango-admin-node-and-chango-component-nodes">On the Nodes of <code>Chango Admin Node</code> and <code>Chango Component Nodes</code></h4>
<p>As yum client nodes to local yum repository, you need to configure the followings on the nodes of <code>Chango Admin Node</code> and <code>Chango Component Nodes</code> 
to look up remote local yum repository server.</p>
<p>Move current yum repo configurations.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>sudo mkdir -p ~/old-repos
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a>sudo mv /etc/yum.repos.d/*.repo ~/old-repos/
</code></pre></div>
<p>Create configuration of local yum repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>sudo vi /etc/yum.repos.d/local-repos.repo
</code></pre></div>
<p>Add the following configuration.
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>[local-base]
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a>name=CentOS Base
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>baseurl=http://[local-yum-repo-ip]/base/
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a>gpgcheck=0
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a>enabled=1
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a>[local-epel]
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a>name=CentOS Epel
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a>baseurl=http://[local-yum-repo-ip]/epel/
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a>gpgcheck=0
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a>enabled=1
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a>[local-extras]
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a>name=CentOS Extras
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a>baseurl=http://[local-yum-repo-ip]/extras/
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a>gpgcheck=0
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a>enabled=1
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a>[local-updates]
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a>name=CentOS Updates
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a>baseurl=http://[local-yum-repo-ip]/updates/
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a>gpgcheck=0
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a>enabled=1
</code></pre></div></p>
<p>Replace <code>[local-yum-repo-ip]</code> with the ip address of local yum repository.</p>
<p>Refresh yum repository.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>sudo yum repolist all
</code></pre></div>
<p>Test yum install, for example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>sudo yum install nginx
</code></pre></div>
<h2 id="download-chango-private-distribution">Download Chango Private Distribution</h2>
<p>If you want to install Chango Private in public, then, before downloading Chango Private distribution, 
you need to be logged in as <code>sudo</code> user created before on <code>Chango Admin Node</code>, for example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>sudo su - chango;
</code></pre></div>
<p>Download Chango Private distribution.
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a>curl -L -O https://github.com/cloudcheflabs/chango-libs/releases/download/chango-private-deps/chango-private-2.3.0.tar.gz
</code></pre></div></p>
<p>And tar the file and move to the installation directory of Chango Private.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>tar zxvf chango-private-2.3.0.tar.gz 
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>cd chango-private-2.3.0/ansible/
</code></pre></div>
<p>Download all Chango Components.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>./download-component-files.sh
</code></pre></div>
<p>If it takes long time to download chango components, then run the following to download in background.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>nohup ./download-component-files.sh &gt; out.log; tail -f out.log;
</code></pre></div>
<blockquote>
<p><strong><em>NOTE:</em></strong> For installing Chango Private in disconnected environment, after downloading chango component files, 
you need to package the whole distribution directory with downloaded component files to the file(for example, tar.gz) which needs to be transferred
to your node in which internet is not available.</p>
</blockquote>
<h2 id="install-chango-admin_1">Install Chango Admin</h2>
<p>Now, you are logged in as <code>sudo</code> user on <code>Chango Admin Node</code>.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Make sure that current user is <code>sudo</code> user created before to access <code>Chango Component Nodes</code> and the self host of <code>Chango Admin Node</code> with password-less SSH connection.</p>
</blockquote>
<p>Run the following to install Chango Admin.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a>./start-chango-private.sh;
</code></pre></div>
, which will </p>
<ul>
<li>install Postgresql database.</li>
<li>mount attached disks as logical volume on PostgreSQL database host.</li>
<li>install Chango Admin on the current host.</li>
</ul>
<p>Enter values for the prompts, for example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a>Installing ansible in virtual environment...
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>Ansible installed...
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>Ready to install Chango Admin...
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>Enter FQDN of the target host name on which PostgreSQL database will be installed: 
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a>chango-comp-3.chango.private
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>Enter comma-separated disk paths for LVM mount on the target host of PostgreSQL database (for example, &#39;/dev/sdb,/dev/sdc&#39;): 
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a>/dev/sdb,/dev/sdc
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a>Enter current host name on which Chango Admin will be installed: 
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a>chango-admin.chango.private
</code></pre></div>
<ul>
<li><code>chango-comp-3.chango.private</code> is for PostgreSQL database host which <strong>MUST BE</strong> one of <code>Chango Component Nodes</code>, <strong>NOT</strong> <code>Chango Admin Node</code>.</li>
<li><code>/dev/sdb,/dev/sdc</code> is for LVM raw disks in comma separated list on PostgreSQL database host.</li>
<li><code>chango-admin.chango.private</code> is for current host name of <code>Chango Admin Node</code>.</li>
</ul>
<p>To enter the raw disks, run <code>lsblk</code> for example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>lsblk;
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>...
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a>sdb      8:16   0   512G  0 disk 
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>sdc      8:32   0   512G  0 disk 
</code></pre></div>
<p>After installing Chango Admin successfully, you need to get randomly genterated password of <code>admin</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>cat /export/chango-private-admin-logs/admin.log | grep &quot;randomly generated password&quot;;
</code></pre></div>
<p>Output looks like this.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>2023-10-27 03:53:59,863 INFO com.cloudcheflabs.changoprivate.admin.config.AdminUserConfigurer:32 [main] randomly generated password for user &#39;admin&#39;: b3b3c51fde594d7abdd38fbc3eb2a581
</code></pre></div>
<p>For example, <code>b3b3c51fde594d7abdd38fbc3eb2a581</code> is the password of <code>admin</code>.</p>
<p>The URL of Chango Admin UI is, for example.
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>http://chango-admin.chango.private:8123/
</code></pre></div></p>
<blockquote>
<p><strong><em>NOTE:</em></strong> <code>8123</code> for Admin UI and <code>8080</code> for NGINX proxy to Admin on <code>Chango Admin Node</code> need to be open.</p>
</blockquote>
<p>Make sure that the host DNS entries for <code>Chango Admin Node</code> and <code>Chango Component Nodes</code> are added to the host file(for example, <code>/etc/hosts</code>) on your local PC, 
for example.
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>[ip-address]  chango-admin.chango.private
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a>[ip-address]  chango-comp-1.chango.private
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a>[ip-address]  chango-comp-2.chango.private
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a>[ip-address]  chango-comp-3.chango.private
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a>[ip-address]  chango-comp-4.chango.private
</code></pre></div>
, where <code>[ip-address]</code> can be public IP address for online environment or private IP address for offline environment.</p>
<p>Login as <code>admin</code> with the randomly generated password. You can change the password of <code>admin</code> in Chango Admin UI <code>Account</code> -&gt; <code>Profile</code> later.</p>
<h2 id="after-installing-chango-admin">After installing Chango Admin</h2>
<p>After installing Chango Admin, several shell files will be created which can be used for your need later.</p>
<ul>
<li><code>reinstall-admin.sh</code>: Reinstall LVM mount, PostgreSQL database, and Chango Admin with the same configurations you entered for prompts.</li>
<li><code>restart-admin.sh</code>: Restart Chango Admin.</li>
<li><code>uninstall-admin.sh</code>: Uninstall Chango Admin.</li>
<li><code>uninstall-lvm.sh</code>: Unmount LVM on the host of PostgreSQL database.</li>
<li><code>uninstall-postgresql.sh</code>: Uninstall PostgreSQL database.</li>
</ul>
<blockquote>
<p><strong><em>NOTE:</em></strong> If you have installed <code>Chango Components</code> by <code>Chango Admin</code> later, 
<strong>DO NOT</strong> use <code>reinstall-admin.sh</code>, <code>uninstall-lvm.sh</code>, and <code>uninstall-postgresql.sh</code> 
which will destroy all the installation of Chango Private!</p>
</blockquote>
<p>When the installation of Chango Admin failed with some reasons, you need to run the above shell.
If you entered wrong values for the prompts which affects installation failure and want to install Chango Admin again, then run the following sequence.</p>
<ul>
<li><code>uninstall-admin.sh</code></li>
<li><code>uninstall-postgresql.sh</code></li>
<li><code>uninstall-lvm.sh</code></li>
</ul>
<p>, and then, install Chango Admin again with running <code>start-chango-private.sh</code>.</p>
<p>If you changed the host and port of NGINX for <code>Chango Admin</code> after adding TLS configuration to NGINX, 
then, add the variables to <code>--extra-vars</code> in <code>restart-admin.sh</code>, for example.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>cpadmin_nginx_scheme=https \
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>cpadmin_nginx_host=[your-nginx-host] \
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>cpadmin_nginx_port=[your-nginx-port] \
</code></pre></div>
<p>The revised <code>restart-admin.sh</code> looks like this, for example.
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>python3 -m venv venv;
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a>source /home/chango/venv/bin/activate;
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a>ansible-playbook -i admin.inv run.yml \
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a>--extra-vars &quot;\
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a>exec_user=chango \
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a>target_hosts=changoprivate-admin-hosts \
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a>role_name=changoprivate-admin \
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a>cpadmin_ansible_path=/data/chango/cp-dist/chango-private-2.3.0/ansible \
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a>run_option=restart \
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a>cpadmin_nginx_scheme=https \
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a>cpadmin_nginx_host=[your-nginx-host] \
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a>cpadmin_nginx_port=[your-nginx-port] \
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a>&quot;
</code></pre></div></p>
<p>Run the revised <code>restart-admin.sh</code>.</p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © <script>document.write(new Date().getFullYear())</script> Cloud Chef Labs, Inc. All rights reserved. <a href="mailto:admin@cloudchef-labs.com">admin@cloudchef-labs.com</a>
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "header.autohide"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "2.2.0", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../javascripts/extra.js"></script>
        
      
    
  </body>
</html>